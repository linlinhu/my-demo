/*! kakadanica. */
!function(t){function c(n){if(l[n])return l[n].exports;var r=l[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,c),r.l=!0,r.exports}var l={};c.m=t,c.c=l,c.d=function(t,l,n){c.o(t,l)||Object.defineProperty(t,l,{configurable:!1,enumerable:!0,get:n})},c.n=function(t){var l=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(l,"a",l),l},c.o=function(t,c){return Object.prototype.hasOwnProperty.call(t,c)},c.p="",c(c.s=0)}([function(module,exports){eval("/**\r\n * 请假时间选择 created by Danica in 2017-6-30\r\n */\r\nvar pickerParams = {};\r\n\r\nfunction PeriodsPicker(params) {\r\n\tif(!params.id) return false;\r\n\tpickerParams.pickerEl = document.getElementById(params.id);\r\n\tpickerParams.periodTimes = params.timePeriods ? params.timePeriods : [];\r\n\tif (params.showWeeksAmount && params.showWeeksAmount > 0 && params.showWeeksAmount <= 5) {\r\n\t\tpickerParams.calenDaysAmount = params.showWeeksAmount * 7; \r\n\t} else {\r\n\t\tpickerParams.calenDaysAmount = 35; \r\n\t}\r\n\tpickerParams.date =  params.beginDate ? params.beginDate : new Date();\r\n\t\r\n\r\n\tthis.load = function() {\r\n\t\tvar loading = null;\r\n\t\t\r\n\t\tif (layer) loading = layer.load();//支持第三方插件layer动画加载\r\n\t\t$.getJSON (\"js/plugins/periodsPicker/dr.json\", function (data){\r\n\t\t\tpickerParams.dutyAndRest = data;\r\n\t\t\tpickerParams.pickerEl.innerHTML = '<ul class=\"calen-title\">'+\r\n\t\t\t\t'<li>日</li>'+\r\n\t\t\t\t'<li>一</li>'+\r\n\t\t\t\t'<li>二</li>'+\r\n\t\t\t\t'<li>三</li>'+\r\n\t\t\t\t'<li>四</li>'+\r\n\t\t\t\t'<li>五</li>'+\r\n\t\t\t\t'<li>六</li>'+\r\n\t\t\t'</ul>'+\r\n\t\t\t'<ul class=\"calen-date\"></ul>'+\r\n\t\t\t'<div class=\"more-date\">'+\r\n\t\t\t\t'<i class=\"before\" onclick=\"showBeforeMonth()\"></i>'+\r\n\t\t\t\t'<span></span>'+\r\n\t\t\t\t'<i class=\"after\" onclick=\"showNextMonth()\"></i>'+\r\n\t\t\t'</div>';\r\n\t\t\tgrtRecentDutyDays(pickerParams.date);\r\n\t\t\tif(loading) layer.close(loading);\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\tthis.getPickedPeriods = function() {\r\n\t\treturn pickerParams.periodTimes;\r\n\t}\r\n}\r\n/**\r\n * 根据日期获取当月天数\r\n * \r\n * @param {Object}\r\n *            date\r\n */\r\nfunction getDays(date) {\r\n\t// 获取年份\r\n\tvar year = date.getFullYear(),\r\n\t// 获取当前月份\r\n\tmouth = date.getMonth() + 1,\r\n\t// 定义当月的天数；\r\n\tdays;\r\n\r\n\t// 当月份为二月时，根据闰年还是非闰年判断天数\r\n\tif (mouth === 2) {\r\n\t\tdays = year % 4 === 0 ? 29 : 28;\r\n\t} else if (mouth === 1 || mouth === 3 || mouth === 5 || mouth === 7\r\n\t\t\t|| mouth === 8 || mouth === 10 || mouth === 12) {\r\n\t\t// 月份为：1,3,5,7,8,10,12 时，为大月.则天数为31；\r\n\t\tdays = 31;\r\n\t} else {\r\n\t\t// 其他月份，天数为：30.\r\n\t\tdays = 30;\r\n\t}\r\n\treturn days;\r\n}\r\n\r\n/**\r\n * 判断日期是否属于某个类型\r\n * \r\n * @param {Object}\r\n *            date 日期\r\n * @param {Object}\r\n *            type 上班或者休息\r\n */\r\nfunction isTypeDay(date, type) {\r\n\tvar i, j, k, \r\n\t\tdays = null, \r\n\t\td = new Date(date);\r\n\r\n\tif (d.getFullYear() === parseInt(pickerParams.dutyAndRest.year)) {\r\n\t\tfor (j = 0; j < pickerParams.dutyAndRest.days.length; j++) {\r\n\t\t\tif (parseInt(pickerParams.dutyAndRest.days[j].month) === (d.getMonth() + 1)) {\r\n\t\t\t\tif (type === 'rest') {\r\n\t\t\t\t\tdays = pickerParams.dutyAndRest.days[j].restDays;\r\n\t\t\t\t}\r\n\t\t\t\tif (type === 'duty') {\r\n\t\t\t\t\tdays = pickerParams.dutyAndRest.days[j].dutyDays;\r\n\t\t\t\t}\r\n\t\t\t\tif (days !== null) {\r\n\t\t\t\t\tfor (k = 0; k < days.length; k++) {\r\n\t\t\t\t\t\tif (parseInt(days[k]) === d.getDate()) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n/**\r\n * 判断是否已经选中了某个时间区间\r\n * \r\n * @param {Object}\r\n *            beginTime 该时间区间的开始时间 （一般为某天上午的9:00和某天下午的13:30） 他在时间区间数组中是唯一的\r\n */\r\nfunction hasDayPeriod(beginTime) {\r\n\tvar i;\r\n\r\n\tfor (i = 0; i < pickerParams.periodTimes.length; i++) {\r\n\t\tif (pickerParams.periodTimes[i].beginTime === beginTime) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n/**\r\n * 根据时间点，从时间区间数组中删除时间区间\r\n * \r\n * @param {Object}\r\n *            beginTime 某个时间区间的开始时间 （一般为某天上午的9:00和某天下午的13:30） 他在时间区间数组中是唯一的\r\n */\r\nfunction delPeriodByTime(beginTime) {\r\n\tvar i, newPeriodTimes = [];\r\n\r\n\tfor (i = 0; i < pickerParams.periodTimes.length; i++) {\r\n\t\tif (pickerParams.periodTimes[i].beginTime === beginTime) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tnewPeriodTimes.push(pickerParams.periodTimes[i]);\r\n\t}\r\n\tpickerParams.periodTimes = newPeriodTimes;\r\n}\r\n\r\n/**\r\n * 生成日期的html标签\r\n * \r\n * @param {Object}\r\n *            obj 日期对象\r\n */\r\nfunction grtDay(obj) {\r\n\tvar dstr = obj.year + '-' + obj.month + '-' + obj.day, \r\n\t\tamIsSelected = hasDayPeriod(new Date(dstr + ' 9:00').getTime()), \r\n\t\tpmIsSelected = hasDayPeriod(new Date(dstr + ' 13:30').getTime()), \r\n\t\tisToday = (obj.year === pickerParams.date.getFullYear() && obj.month === pickerParams.date.getMonth() + 1 && obj.day === pickerParams.date.getDate());\r\n\r\n\treturn '<li '\r\n\t\t\t+ ' class = \"'\r\n\t\t\t+ (obj.isForbid ? 'forbid ' : '')\r\n\t\t\t+ (isToday ? 'today ' : '')\r\n\t\t\t+ '\" date-str = \"'\r\n\t\t\t+ dstr\r\n\t\t\t+ '\">'\r\n\t\t\t+ (parseInt(obj.day) === 1 ? (obj.day + '<div>' + obj.month + '月</div>')\r\n\t\t\t\t\t: obj.day)\r\n\t\t\t+ (obj.text ? ('<span>' + obj.text + '</span>') : '')\r\n\t\t\t+ (!obj.isForbid ? '<circle class=\"time-period\" >'\r\n\t\t\t\t\t+ '<i class = \" ' + (amIsSelected ? 'selected' : '')\r\n\t\t\t\t\t+ ' am\" onclick=\"periodPick(this, 1)\" alt=\"' + dstr\r\n\t\t\t\t\t+ ' 上午\" title=\"' + dstr + ' 上午\"></i>' + '<i class = \" '\r\n\t\t\t\t\t+ (pmIsSelected ? 'selected' : '')\r\n\t\t\t\t\t+ ' pm\" onclick=\"periodPick(this, 2)\" alt=\"' + dstr\r\n\t\t\t\t\t+ ' 下午\" title=\"' + dstr + ' 下午\"></i></circle>' : '')\r\n\t\t\t+ '</li>';\r\n}\r\n\r\nfunction grtRecentDutyDays(date, daysAmount) {\r\n\tvar i, y, m, d, obj, leaveDays = [], // 可用请假日期对象\r\n\t\tyear = date.getFullYear(), \r\n\t\tmonth = date.getMonth() + 1, \r\n\t\tday = date.getDate(), \r\n\t\tweekDay = date.getDay(), \r\n\t\tbeginDay = day - weekDay, \r\n\t\tlastMonthLastDay = getDays(new Date(year + '-' + (month - 1) + '-1')), // 上月天数\r\n\t\tmonthLastDay = getDays(new Date(year + '-' + month + '-1')), // 本月天数\r\n\t\tnextMonthLastDay = getDays(new Date(year + '-' + (month + 1) + '-1')), // 下月天数\r\n\t\tendDay = 0, \r\n\t\tdayLi = pickerParams.pickerEl.getElementsByClassName('calen-date'), \r\n\t\thtml = '';\r\n\t\r\n\tdaysAmount = daysAmount ? daysAmount : pickerParams.calenDaysAmount;\r\n\t\r\n\tif (beginDay <= 0) { // 存在上一月的数据\r\n\t\tendDay = beginDay + daysAmount - 1;\r\n\t\tbeginDay = lastMonthLastDay + beginDay;\r\n\t\ty = year, m = month - 1;\r\n\t\tif (month === 1) { // 上一月是上一年\r\n\t\t\ty = year - 1, m = 12;\r\n\t\t}\r\n\t\t// 加载上月数据\r\n\t\tfor (i = beginDay; i <= lastMonthLastDay; i++) {\r\n\t\t\tleaveDays.push({\r\n\t\t\t\ty : y,\r\n\t\t\t\tm : m,\r\n\t\t\t\td : i\r\n\t\t\t});\r\n\t\t}\r\n\t\r\n\t\tfor (i = 1; i <= endDay; i++) {\r\n\t\t\tif (i > monthLastDay) { // 下个月的数据\r\n\t\t\t\tleaveDays.push({\r\n\t\t\t\t\ty : month + 1 > 12 ? year + 1 : year,\r\n\t\t\t\t\tm : month + 1 > 12 ? 1 : month + 1,\r\n\t\t\t\t\td : i - monthLastDay\r\n\t\t\t\t});\r\n\t\t\t} else { // 本月的数据\r\n\t\t\t\tleaveDays.push({\r\n\t\t\t\t\ty : year,\r\n\t\t\t\t\tm : month,\r\n\t\t\t\t\td : i\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t} else { // 本月开始\r\n\t\tendDay = daysAmount - (monthLastDay - beginDay + 1);\r\n\t\tif (endDay < 0) {\r\n\t\t\tfor (i = beginDay; i <= (beginDay + daysAmount - 1); i++) {\r\n\t\t\t\tleaveDays.push({\r\n\t\t\t\t\ty : year,\r\n\t\t\t\t\tm : month,\r\n\t\t\t\t\td : i\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (i = beginDay; i <= monthLastDay; i++) {// 加载本月到月末\r\n\t\t\t\tleaveDays.push({\r\n\t\t\t\t\ty : year,\r\n\t\t\t\t\tm : month,\r\n\t\t\t\t\td : i\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tfor (i = 1; i <= endDay; i++) {\r\n\t\t\t\tif (i > nextMonthLastDay) { // 下下个月的数据\r\n\t\t\t\t\tleaveDays.push({\r\n\t\t\t\t\t\ty : month + 1 > 12 ? year + 1 : year,\r\n\t\t\t\t\t\tm : month + 1 > 12 ? 2 : month + 2,\r\n\t\t\t\t\t\td : i - nextMonthLastDay\r\n\t\t\t\t\t});\r\n\t\t\t\t} else { // 下个月的数据\r\n\t\t\t\t\tleaveDays.push({\r\n\t\t\t\t\t\ty : month + 1 > 12 ? year + 1 : year,\r\n\t\t\t\t\t\tm : month + 1 > 12 ? 1 : month + 1,\r\n\t\t\t\t\t\td : i\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\tif (leaveDays.length === 0 || leaveDays.length !== daysAmount) {\r\n\t\t// console.info('日历日期装载报错，请管理员检查。');\r\n\t\treturn false;\r\n\t}\r\n\tfor (i = 0; i < leaveDays.length; i++) {\r\n\t\td = new Date(leaveDays[i].y + '-' + leaveDays[i].m + '-'\r\n\t\t\t\t+ leaveDays[i].d);\r\n\t\tobj = {\r\n\t\t\tisForbid : false,\r\n\t\t\tindex : i + 1,\r\n\t\t\tyear : leaveDays[i].y,\r\n\t\t\tmonth : leaveDays[i].m,\r\n\t\t\tday : leaveDays[i].d,\r\n\t\t\ttext : ''\r\n\t\t};\r\n\t\r\n\t\tif (i === 0) { // 显示年份\r\n\t\t\tpickerParams.pickerEl.querySelectorAll('.more-date span')[0].innerText = leaveDays[i].y\r\n\t\t\t\t\t+ '年';\r\n\t\t}\r\n\t\r\n\t\t// 在此计算可选时间范围，目前的条件：大于今日的工作日\r\n\t\tif (d.getTime() >= date.getTime()) {\r\n\t\t\tif (d.getDay() > 0 && d.getDay() < 6) { // 工作日 判断是否休息\r\n\t\t\t\tif (isTypeDay(d, 'rest')) { // 法定休息日\r\n\t\t\t\t\tobj.isForbid = true;\r\n\t\t\t\t\tobj.text = '休';\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (isTypeDay(d, 'duty')) { // 法定上班日\r\n\t\t\t\t\tobj.text = '班';\r\n\t\t\t\t} else { // 正常休息日\r\n\t\t\t\t\tobj.isForbid = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tobj.isForbid = true;\r\n\t\t}\r\n\t\r\n\t\thtml += grtDay(obj);\r\n\t}\r\n\tdayLi[0].innerHTML = html;\r\n\r\n}\r\n\r\n/**\r\n * 判断el是否包含某个样式类\r\n * \r\n * @param {Object}\r\n *            el\r\n * @param {Object}\r\n *            clsName\r\n */\r\nfunction hasCls(el, clsName) {\r\n\tvar cls = el.getAttribute('class');\r\n\r\n\tif (cls !== null && cls.indexOf(clsName) >= 0) {\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n/**\r\n * \r\n * 给el添加某个样式类\r\n * \r\n * @param {Object}\r\n *            el\r\n * @param {Object}\r\n *            clsName\r\n */\r\nfunction addCls(el, clsName) {\r\n\tvar cls = el.getAttribute('class');\r\n\r\n\tel.setAttribute('class', clsName + ' ' + cls);\r\n}\r\n\r\n/**\r\n * 给el删除某个样式类\r\n * \r\n * @param {Object}\r\n *            el\r\n * @param {Object}\r\n *            clsName\r\n */\r\nfunction removeCls(el, clsName) {\r\n\tvar cls = el.getAttribute('class'), finalCls = null, clsIndex = cls\r\n\t\t\t.indexOf(clsName);\r\n\r\n\tfinalCls = cls.substring(0, clsIndex)\r\n\t\t\t+ cls.substring(clsIndex + clsName.length);\r\n\tel.setAttribute('class', finalCls);\r\n}\r\n\r\nfunction periodPick(periodEl, periodType) {\r\n\tvar el = periodEl.parentNode.parentNode, \r\n\t\tdstr = el.getAttribute('date-str'), \r\n\t\tbeginTimeStr = null, \r\n\t\tendTimeStr = null;\r\n\r\n\tif (hasCls(el, 'forbid')) {\r\n\t\treturn false;\r\n\t}\r\n\tif (periodType === 1) { // 根据时间区间拼接时间字符串\r\n\t\tbeginTimeStr = dstr + ' ' + '9:00';\r\n\t\tendTimeStr = dstr + ' ' + '12:00';\r\n\t\tdstr += ' 上午';\r\n\t} else {\r\n\t\tbeginTimeStr = dstr + ' ' + '13:30';\r\n\t\tendTimeStr = dstr + ' ' + '18:00';\r\n\t\tdstr += ' 下午';\r\n\t}\r\n\tif (!hasCls(periodEl, 'selected')) { // 未选中则选中，添加时间区间到数组\r\n\t\taddCls(periodEl, 'selected');\r\n\t\tpickerParams.periodTimes.push({\r\n\t\t\tbeginTime : new Date(beginTimeStr).getTime(),\r\n\t\t\tendTime : new Date(endTimeStr).getTime(),\r\n\t\t\tshowText : dstr\r\n\t\t});\r\n\t} else { // 选中则移除选中，从数组中删除时间区间\r\n\t\tremoveCls(periodEl, 'selected');\r\n\t\tdelPeriodByTime(new Date(beginTimeStr).getTime());\r\n\t}\r\n}\r\n\r\n/**\r\n * 显示下一个日历区间的日期\r\n */\r\nfunction showNextMonth(self) {\r\n\t// 获得当前日历区间最后一天的信息\r\n\tvar lastEl = pickerParams.pickerEl.querySelectorAll('.calen-date li:last-child'),\r\n\t\tlastDate = lastEl.length > 0 ? new Date(lastEl[0].getAttribute('date-str')) : '';\r\n\t\r\n\tif(lastDate.length === 0) return false;\r\n\t\r\n\tgrtRecentDutyDays(new Date((lastDate / 1000 + 86400) * 1000));\r\n\t\r\n\t// 到下一页意味着存在上一页\r\n\tpickerParams.pickerEl.querySelectorAll('.more-date i.before')[0].style.display = 'block';\r\n}\r\n\r\n/**\r\n * 显示上一个日历区间的日期\r\n */\r\nfunction showBeforeMonth() {\r\n\r\n\t// 获得当前日历区间第一天的信息\r\n\tvar firstEl = pickerParams.pickerEl.querySelectorAll('.calen-date li:first-child'), \r\n\t\tfirstDate = firstEl.length > 0 ? new Date(firstEl[0].getAttribute('date-str')) : '';\r\n\t\t\t\t\r\n\tif(firstDate.length === 0) return false;\r\n\t// 获得上一个日历区间第一天的日期信息\r\n\tbeforeFirstDate = new Date((firstDate / 1000 - 86400 * pickerParams.calenDaysAmount) * 1000);\r\n\r\n\t// 如果当日大于且等于上一个日历区间第一天的日期，表示已经到达第一页\r\n\tif (pickerParams.date.getTime() >= beforeFirstDate.getTime()) {\r\n\r\n\t\t// 生成当日相关的日历区间，用户可选择工作日，从传递的日期开始计算\r\n\t\tgrtRecentDutyDays(pickerParams.date);\r\n\t\t// 隐藏上一页的操作\r\n\t\tpickerParams.pickerEl.querySelectorAll('.more-date i.before')[0].style.display = 'none';\r\n\r\n\t} else {\r\n\r\n\t\t// 生成上一页的日历区间\r\n\t\tgrtRecentDutyDays(beforeFirstDate);\r\n\r\n\t}\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvcGVyaW9kc1BpY2tlci5qcz82YWMwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RDtBQUNBLEVBQUU7QUFDRixvQztBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUEsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSwwQ0FBMEM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFlBQVkscUNBQXFDO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWSxxQ0FBcUM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVCQUF1QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQSxhQUFhLGFBQWE7QUFDMUIsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksT0FBTztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxFQUFFLE9BQU87QUFDVDtBQUNBO0FBQ0EscUJBQXFCLGtDQUFrQztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSCxxQkFBcUIsbUJBQW1CLE9BQU87QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxjQUFjLGFBQWE7QUFDM0IsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLEtBQUssT0FBTztBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0JBQXNCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDBDQUEwQztBQUMxQywrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLCtCQUErQjtBQUMvQjtBQUNBLEtBQUssT0FBTztBQUNaO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsT0FBTztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0EiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDor7flgYfml7bpl7TpgInmi6kgY3JlYXRlZCBieSBEYW5pY2EgaW4gMjAxNy02LTMwXHJcbiAqL1xyXG52YXIgcGlja2VyUGFyYW1zID0ge307XHJcblxyXG5mdW5jdGlvbiBQZXJpb2RzUGlja2VyKHBhcmFtcykge1xyXG5cdGlmKCFwYXJhbXMuaWQpIHJldHVybiBmYWxzZTtcclxuXHRwaWNrZXJQYXJhbXMucGlja2VyRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYXJhbXMuaWQpO1xyXG5cdHBpY2tlclBhcmFtcy5wZXJpb2RUaW1lcyA9IHBhcmFtcy50aW1lUGVyaW9kcyA/IHBhcmFtcy50aW1lUGVyaW9kcyA6IFtdO1xyXG5cdGlmIChwYXJhbXMuc2hvd1dlZWtzQW1vdW50ICYmIHBhcmFtcy5zaG93V2Vla3NBbW91bnQgPiAwICYmIHBhcmFtcy5zaG93V2Vla3NBbW91bnQgPD0gNSkge1xyXG5cdFx0cGlja2VyUGFyYW1zLmNhbGVuRGF5c0Ftb3VudCA9IHBhcmFtcy5zaG93V2Vla3NBbW91bnQgKiA3OyBcclxuXHR9IGVsc2Uge1xyXG5cdFx0cGlja2VyUGFyYW1zLmNhbGVuRGF5c0Ftb3VudCA9IDM1OyBcclxuXHR9XHJcblx0cGlja2VyUGFyYW1zLmRhdGUgPSAgcGFyYW1zLmJlZ2luRGF0ZSA/IHBhcmFtcy5iZWdpbkRhdGUgOiBuZXcgRGF0ZSgpO1xyXG5cdFxyXG5cclxuXHR0aGlzLmxvYWQgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBsb2FkaW5nID0gbnVsbDtcclxuXHRcdFxyXG5cdFx0aWYgKGxheWVyKSBsb2FkaW5nID0gbGF5ZXIubG9hZCgpOy8v5pSv5oyB56ys5LiJ5pa55o+S5Lu2bGF5ZXLliqjnlLvliqDovb1cclxuXHRcdCQuZ2V0SlNPTiAoXCJqcy9wbHVnaW5zL3BlcmlvZHNQaWNrZXIvZHIuanNvblwiLCBmdW5jdGlvbiAoZGF0YSl7XHJcblx0XHRcdHBpY2tlclBhcmFtcy5kdXR5QW5kUmVzdCA9IGRhdGE7XHJcblx0XHRcdHBpY2tlclBhcmFtcy5waWNrZXJFbC5pbm5lckhUTUwgPSAnPHVsIGNsYXNzPVwiY2FsZW4tdGl0bGVcIj4nK1xyXG5cdFx0XHRcdCc8bGk+5pelPC9saT4nK1xyXG5cdFx0XHRcdCc8bGk+5LiAPC9saT4nK1xyXG5cdFx0XHRcdCc8bGk+5LqMPC9saT4nK1xyXG5cdFx0XHRcdCc8bGk+5LiJPC9saT4nK1xyXG5cdFx0XHRcdCc8bGk+5ZubPC9saT4nK1xyXG5cdFx0XHRcdCc8bGk+5LqUPC9saT4nK1xyXG5cdFx0XHRcdCc8bGk+5YWtPC9saT4nK1xyXG5cdFx0XHQnPC91bD4nK1xyXG5cdFx0XHQnPHVsIGNsYXNzPVwiY2FsZW4tZGF0ZVwiPjwvdWw+JytcclxuXHRcdFx0JzxkaXYgY2xhc3M9XCJtb3JlLWRhdGVcIj4nK1xyXG5cdFx0XHRcdCc8aSBjbGFzcz1cImJlZm9yZVwiIG9uY2xpY2s9XCJzaG93QmVmb3JlTW9udGgoKVwiPjwvaT4nK1xyXG5cdFx0XHRcdCc8c3Bhbj48L3NwYW4+JytcclxuXHRcdFx0XHQnPGkgY2xhc3M9XCJhZnRlclwiIG9uY2xpY2s9XCJzaG93TmV4dE1vbnRoKClcIj48L2k+JytcclxuXHRcdFx0JzwvZGl2Pic7XHJcblx0XHRcdGdydFJlY2VudER1dHlEYXlzKHBpY2tlclBhcmFtcy5kYXRlKTtcclxuXHRcdFx0aWYobG9hZGluZykgbGF5ZXIuY2xvc2UobG9hZGluZyk7XHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0XHJcblx0fVxyXG5cclxuXHR0aGlzLmdldFBpY2tlZFBlcmlvZHMgPSBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiBwaWNrZXJQYXJhbXMucGVyaW9kVGltZXM7XHJcblx0fVxyXG59XHJcbi8qKlxyXG4gKiDmoLnmja7ml6XmnJ/ojrflj5blvZPmnIjlpKnmlbBcclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fVxyXG4gKiAgICAgICAgICAgIGRhdGVcclxuICovXHJcbmZ1bmN0aW9uIGdldERheXMoZGF0ZSkge1xyXG5cdC8vIOiOt+WPluW5tOS7vVxyXG5cdHZhciB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpLFxyXG5cdC8vIOiOt+WPluW9k+WJjeaciOS7vVxyXG5cdG1vdXRoID0gZGF0ZS5nZXRNb250aCgpICsgMSxcclxuXHQvLyDlrprkuYnlvZPmnIjnmoTlpKnmlbDvvJtcclxuXHRkYXlzO1xyXG5cclxuXHQvLyDlvZPmnIjku73kuLrkuozmnIjml7bvvIzmoLnmja7pl7DlubTov5jmmK/pnZ7pl7DlubTliKTmlq3lpKnmlbBcclxuXHRpZiAobW91dGggPT09IDIpIHtcclxuXHRcdGRheXMgPSB5ZWFyICUgNCA9PT0gMCA/IDI5IDogMjg7XHJcblx0fSBlbHNlIGlmIChtb3V0aCA9PT0gMSB8fCBtb3V0aCA9PT0gMyB8fCBtb3V0aCA9PT0gNSB8fCBtb3V0aCA9PT0gN1xyXG5cdFx0XHR8fCBtb3V0aCA9PT0gOCB8fCBtb3V0aCA9PT0gMTAgfHwgbW91dGggPT09IDEyKSB7XHJcblx0XHQvLyDmnIjku73kuLrvvJoxLDMsNSw3LDgsMTAsMTIg5pe277yM5Li65aSn5pyILuWImeWkqeaVsOS4ujMx77ybXHJcblx0XHRkYXlzID0gMzE7XHJcblx0fSBlbHNlIHtcclxuXHRcdC8vIOWFtuS7luaciOS7ve+8jOWkqeaVsOS4uu+8mjMwLlxyXG5cdFx0ZGF5cyA9IDMwO1xyXG5cdH1cclxuXHRyZXR1cm4gZGF5cztcclxufVxyXG5cclxuLyoqXHJcbiAqIOWIpOaWreaXpeacn+aYr+WQpuWxnuS6juafkOS4quexu+Wei1xyXG4gKiBcclxuICogQHBhcmFtIHtPYmplY3R9XHJcbiAqICAgICAgICAgICAgZGF0ZSDml6XmnJ9cclxuICogQHBhcmFtIHtPYmplY3R9XHJcbiAqICAgICAgICAgICAgdHlwZSDkuIrnj63miJbogIXkvJHmga9cclxuICovXHJcbmZ1bmN0aW9uIGlzVHlwZURheShkYXRlLCB0eXBlKSB7XHJcblx0dmFyIGksIGosIGssIFxyXG5cdFx0ZGF5cyA9IG51bGwsIFxyXG5cdFx0ZCA9IG5ldyBEYXRlKGRhdGUpO1xyXG5cclxuXHRpZiAoZC5nZXRGdWxsWWVhcigpID09PSBwYXJzZUludChwaWNrZXJQYXJhbXMuZHV0eUFuZFJlc3QueWVhcikpIHtcclxuXHRcdGZvciAoaiA9IDA7IGogPCBwaWNrZXJQYXJhbXMuZHV0eUFuZFJlc3QuZGF5cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRpZiAocGFyc2VJbnQocGlja2VyUGFyYW1zLmR1dHlBbmRSZXN0LmRheXNbal0ubW9udGgpID09PSAoZC5nZXRNb250aCgpICsgMSkpIHtcclxuXHRcdFx0XHRpZiAodHlwZSA9PT0gJ3Jlc3QnKSB7XHJcblx0XHRcdFx0XHRkYXlzID0gcGlja2VyUGFyYW1zLmR1dHlBbmRSZXN0LmRheXNbal0ucmVzdERheXM7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICh0eXBlID09PSAnZHV0eScpIHtcclxuXHRcdFx0XHRcdGRheXMgPSBwaWNrZXJQYXJhbXMuZHV0eUFuZFJlc3QuZGF5c1tqXS5kdXR5RGF5cztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKGRheXMgIT09IG51bGwpIHtcclxuXHRcdFx0XHRcdGZvciAoayA9IDA7IGsgPCBkYXlzLmxlbmd0aDsgaysrKSB7XHJcblx0XHRcdFx0XHRcdGlmIChwYXJzZUludChkYXlzW2tdKSA9PT0gZC5nZXREYXRlKCkpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDliKTmlq3mmK/lkKblt7Lnu4/pgInkuK3kuobmn5DkuKrml7bpl7TljLrpl7RcclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fVxyXG4gKiAgICAgICAgICAgIGJlZ2luVGltZSDor6Xml7bpl7TljLrpl7TnmoTlvIDlp4vml7bpl7Qg77yI5LiA6Iis5Li65p+Q5aSp5LiK5Y2I55qEOTowMOWSjOafkOWkqeS4i+WNiOeahDEzOjMw77yJIOS7luWcqOaXtumXtOWMuumXtOaVsOe7hOS4reaYr+WUr+S4gOeahFxyXG4gKi9cclxuZnVuY3Rpb24gaGFzRGF5UGVyaW9kKGJlZ2luVGltZSkge1xyXG5cdHZhciBpO1xyXG5cclxuXHRmb3IgKGkgPSAwOyBpIDwgcGlja2VyUGFyYW1zLnBlcmlvZFRpbWVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRpZiAocGlja2VyUGFyYW1zLnBlcmlvZFRpbWVzW2ldLmJlZ2luVGltZSA9PT0gYmVnaW5UaW1lKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmoLnmja7ml7bpl7TngrnvvIzku47ml7bpl7TljLrpl7TmlbDnu4TkuK3liKDpmaTml7bpl7TljLrpl7RcclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fVxyXG4gKiAgICAgICAgICAgIGJlZ2luVGltZSDmn5DkuKrml7bpl7TljLrpl7TnmoTlvIDlp4vml7bpl7Qg77yI5LiA6Iis5Li65p+Q5aSp5LiK5Y2I55qEOTowMOWSjOafkOWkqeS4i+WNiOeahDEzOjMw77yJIOS7luWcqOaXtumXtOWMuumXtOaVsOe7hOS4reaYr+WUr+S4gOeahFxyXG4gKi9cclxuZnVuY3Rpb24gZGVsUGVyaW9kQnlUaW1lKGJlZ2luVGltZSkge1xyXG5cdHZhciBpLCBuZXdQZXJpb2RUaW1lcyA9IFtdO1xyXG5cclxuXHRmb3IgKGkgPSAwOyBpIDwgcGlja2VyUGFyYW1zLnBlcmlvZFRpbWVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRpZiAocGlja2VyUGFyYW1zLnBlcmlvZFRpbWVzW2ldLmJlZ2luVGltZSA9PT0gYmVnaW5UaW1lKSB7XHJcblx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0fVxyXG5cdFx0bmV3UGVyaW9kVGltZXMucHVzaChwaWNrZXJQYXJhbXMucGVyaW9kVGltZXNbaV0pO1xyXG5cdH1cclxuXHRwaWNrZXJQYXJhbXMucGVyaW9kVGltZXMgPSBuZXdQZXJpb2RUaW1lcztcclxufVxyXG5cclxuLyoqXHJcbiAqIOeUn+aIkOaXpeacn+eahGh0bWzmoIfnrb5cclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fVxyXG4gKiAgICAgICAgICAgIG9iaiDml6XmnJ/lr7nosaFcclxuICovXHJcbmZ1bmN0aW9uIGdydERheShvYmopIHtcclxuXHR2YXIgZHN0ciA9IG9iai55ZWFyICsgJy0nICsgb2JqLm1vbnRoICsgJy0nICsgb2JqLmRheSwgXHJcblx0XHRhbUlzU2VsZWN0ZWQgPSBoYXNEYXlQZXJpb2QobmV3IERhdGUoZHN0ciArICcgOTowMCcpLmdldFRpbWUoKSksIFxyXG5cdFx0cG1Jc1NlbGVjdGVkID0gaGFzRGF5UGVyaW9kKG5ldyBEYXRlKGRzdHIgKyAnIDEzOjMwJykuZ2V0VGltZSgpKSwgXHJcblx0XHRpc1RvZGF5ID0gKG9iai55ZWFyID09PSBwaWNrZXJQYXJhbXMuZGF0ZS5nZXRGdWxsWWVhcigpICYmIG9iai5tb250aCA9PT0gcGlja2VyUGFyYW1zLmRhdGUuZ2V0TW9udGgoKSArIDEgJiYgb2JqLmRheSA9PT0gcGlja2VyUGFyYW1zLmRhdGUuZ2V0RGF0ZSgpKTtcclxuXHJcblx0cmV0dXJuICc8bGkgJ1xyXG5cdFx0XHQrICcgY2xhc3MgPSBcIidcclxuXHRcdFx0KyAob2JqLmlzRm9yYmlkID8gJ2ZvcmJpZCAnIDogJycpXHJcblx0XHRcdCsgKGlzVG9kYXkgPyAndG9kYXkgJyA6ICcnKVxyXG5cdFx0XHQrICdcIiBkYXRlLXN0ciA9IFwiJ1xyXG5cdFx0XHQrIGRzdHJcclxuXHRcdFx0KyAnXCI+J1xyXG5cdFx0XHQrIChwYXJzZUludChvYmouZGF5KSA9PT0gMSA/IChvYmouZGF5ICsgJzxkaXY+JyArIG9iai5tb250aCArICfmnIg8L2Rpdj4nKVxyXG5cdFx0XHRcdFx0OiBvYmouZGF5KVxyXG5cdFx0XHQrIChvYmoudGV4dCA/ICgnPHNwYW4+JyArIG9iai50ZXh0ICsgJzwvc3Bhbj4nKSA6ICcnKVxyXG5cdFx0XHQrICghb2JqLmlzRm9yYmlkID8gJzxjaXJjbGUgY2xhc3M9XCJ0aW1lLXBlcmlvZFwiID4nXHJcblx0XHRcdFx0XHQrICc8aSBjbGFzcyA9IFwiICcgKyAoYW1Jc1NlbGVjdGVkID8gJ3NlbGVjdGVkJyA6ICcnKVxyXG5cdFx0XHRcdFx0KyAnIGFtXCIgb25jbGljaz1cInBlcmlvZFBpY2sodGhpcywgMSlcIiBhbHQ9XCInICsgZHN0clxyXG5cdFx0XHRcdFx0KyAnIOS4iuWNiFwiIHRpdGxlPVwiJyArIGRzdHIgKyAnIOS4iuWNiFwiPjwvaT4nICsgJzxpIGNsYXNzID0gXCIgJ1xyXG5cdFx0XHRcdFx0KyAocG1Jc1NlbGVjdGVkID8gJ3NlbGVjdGVkJyA6ICcnKVxyXG5cdFx0XHRcdFx0KyAnIHBtXCIgb25jbGljaz1cInBlcmlvZFBpY2sodGhpcywgMilcIiBhbHQ9XCInICsgZHN0clxyXG5cdFx0XHRcdFx0KyAnIOS4i+WNiFwiIHRpdGxlPVwiJyArIGRzdHIgKyAnIOS4i+WNiFwiPjwvaT48L2NpcmNsZT4nIDogJycpXHJcblx0XHRcdCsgJzwvbGk+JztcclxufVxyXG5cclxuZnVuY3Rpb24gZ3J0UmVjZW50RHV0eURheXMoZGF0ZSwgZGF5c0Ftb3VudCkge1xyXG5cdHZhciBpLCB5LCBtLCBkLCBvYmosIGxlYXZlRGF5cyA9IFtdLCAvLyDlj6/nlKjor7flgYfml6XmnJ/lr7nosaFcclxuXHRcdHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCksIFxyXG5cdFx0bW9udGggPSBkYXRlLmdldE1vbnRoKCkgKyAxLCBcclxuXHRcdGRheSA9IGRhdGUuZ2V0RGF0ZSgpLCBcclxuXHRcdHdlZWtEYXkgPSBkYXRlLmdldERheSgpLCBcclxuXHRcdGJlZ2luRGF5ID0gZGF5IC0gd2Vla0RheSwgXHJcblx0XHRsYXN0TW9udGhMYXN0RGF5ID0gZ2V0RGF5cyhuZXcgRGF0ZSh5ZWFyICsgJy0nICsgKG1vbnRoIC0gMSkgKyAnLTEnKSksIC8vIOS4iuaciOWkqeaVsFxyXG5cdFx0bW9udGhMYXN0RGF5ID0gZ2V0RGF5cyhuZXcgRGF0ZSh5ZWFyICsgJy0nICsgbW9udGggKyAnLTEnKSksIC8vIOacrOaciOWkqeaVsFxyXG5cdFx0bmV4dE1vbnRoTGFzdERheSA9IGdldERheXMobmV3IERhdGUoeWVhciArICctJyArIChtb250aCArIDEpICsgJy0xJykpLCAvLyDkuIvmnIjlpKnmlbBcclxuXHRcdGVuZERheSA9IDAsIFxyXG5cdFx0ZGF5TGkgPSBwaWNrZXJQYXJhbXMucGlja2VyRWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY2FsZW4tZGF0ZScpLCBcclxuXHRcdGh0bWwgPSAnJztcclxuXHRcclxuXHRkYXlzQW1vdW50ID0gZGF5c0Ftb3VudCA/IGRheXNBbW91bnQgOiBwaWNrZXJQYXJhbXMuY2FsZW5EYXlzQW1vdW50O1xyXG5cdFxyXG5cdGlmIChiZWdpbkRheSA8PSAwKSB7IC8vIOWtmOWcqOS4iuS4gOaciOeahOaVsOaNrlxyXG5cdFx0ZW5kRGF5ID0gYmVnaW5EYXkgKyBkYXlzQW1vdW50IC0gMTtcclxuXHRcdGJlZ2luRGF5ID0gbGFzdE1vbnRoTGFzdERheSArIGJlZ2luRGF5O1xyXG5cdFx0eSA9IHllYXIsIG0gPSBtb250aCAtIDE7XHJcblx0XHRpZiAobW9udGggPT09IDEpIHsgLy8g5LiK5LiA5pyI5piv5LiK5LiA5bm0XHJcblx0XHRcdHkgPSB5ZWFyIC0gMSwgbSA9IDEyO1xyXG5cdFx0fVxyXG5cdFx0Ly8g5Yqg6L295LiK5pyI5pWw5o2uXHJcblx0XHRmb3IgKGkgPSBiZWdpbkRheTsgaSA8PSBsYXN0TW9udGhMYXN0RGF5OyBpKyspIHtcclxuXHRcdFx0bGVhdmVEYXlzLnB1c2goe1xyXG5cdFx0XHRcdHkgOiB5LFxyXG5cdFx0XHRcdG0gOiBtLFxyXG5cdFx0XHRcdGQgOiBpXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0Zm9yIChpID0gMTsgaSA8PSBlbmREYXk7IGkrKykge1xyXG5cdFx0XHRpZiAoaSA+IG1vbnRoTGFzdERheSkgeyAvLyDkuIvkuKrmnIjnmoTmlbDmja5cclxuXHRcdFx0XHRsZWF2ZURheXMucHVzaCh7XHJcblx0XHRcdFx0XHR5IDogbW9udGggKyAxID4gMTIgPyB5ZWFyICsgMSA6IHllYXIsXHJcblx0XHRcdFx0XHRtIDogbW9udGggKyAxID4gMTIgPyAxIDogbW9udGggKyAxLFxyXG5cdFx0XHRcdFx0ZCA6IGkgLSBtb250aExhc3REYXlcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHsgLy8g5pys5pyI55qE5pWw5o2uXHJcblx0XHRcdFx0bGVhdmVEYXlzLnB1c2goe1xyXG5cdFx0XHRcdFx0eSA6IHllYXIsXHJcblx0XHRcdFx0XHRtIDogbW9udGgsXHJcblx0XHRcdFx0XHRkIDogaVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSBlbHNlIHsgLy8g5pys5pyI5byA5aeLXHJcblx0XHRlbmREYXkgPSBkYXlzQW1vdW50IC0gKG1vbnRoTGFzdERheSAtIGJlZ2luRGF5ICsgMSk7XHJcblx0XHRpZiAoZW5kRGF5IDwgMCkge1xyXG5cdFx0XHRmb3IgKGkgPSBiZWdpbkRheTsgaSA8PSAoYmVnaW5EYXkgKyBkYXlzQW1vdW50IC0gMSk7IGkrKykge1xyXG5cdFx0XHRcdGxlYXZlRGF5cy5wdXNoKHtcclxuXHRcdFx0XHRcdHkgOiB5ZWFyLFxyXG5cdFx0XHRcdFx0bSA6IG1vbnRoLFxyXG5cdFx0XHRcdFx0ZCA6IGlcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Zm9yIChpID0gYmVnaW5EYXk7IGkgPD0gbW9udGhMYXN0RGF5OyBpKyspIHsvLyDliqDovb3mnKzmnIjliLDmnIjmnKtcclxuXHRcdFx0XHRsZWF2ZURheXMucHVzaCh7XHJcblx0XHRcdFx0XHR5IDogeWVhcixcclxuXHRcdFx0XHRcdG0gOiBtb250aCxcclxuXHRcdFx0XHRcdGQgOiBpXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yIChpID0gMTsgaSA8PSBlbmREYXk7IGkrKykge1xyXG5cdFx0XHRcdGlmIChpID4gbmV4dE1vbnRoTGFzdERheSkgeyAvLyDkuIvkuIvkuKrmnIjnmoTmlbDmja5cclxuXHRcdFx0XHRcdGxlYXZlRGF5cy5wdXNoKHtcclxuXHRcdFx0XHRcdFx0eSA6IG1vbnRoICsgMSA+IDEyID8geWVhciArIDEgOiB5ZWFyLFxyXG5cdFx0XHRcdFx0XHRtIDogbW9udGggKyAxID4gMTIgPyAyIDogbW9udGggKyAyLFxyXG5cdFx0XHRcdFx0XHRkIDogaSAtIG5leHRNb250aExhc3REYXlcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0gZWxzZSB7IC8vIOS4i+S4quaciOeahOaVsOaNrlxyXG5cdFx0XHRcdFx0bGVhdmVEYXlzLnB1c2goe1xyXG5cdFx0XHRcdFx0XHR5IDogbW9udGggKyAxID4gMTIgPyB5ZWFyICsgMSA6IHllYXIsXHJcblx0XHRcdFx0XHRcdG0gOiBtb250aCArIDEgPiAxMiA/IDEgOiBtb250aCArIDEsXHJcblx0XHRcdFx0XHRcdGQgOiBpXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0XHJcblx0fVxyXG5cdGlmIChsZWF2ZURheXMubGVuZ3RoID09PSAwIHx8IGxlYXZlRGF5cy5sZW5ndGggIT09IGRheXNBbW91bnQpIHtcclxuXHRcdC8vIGNvbnNvbGUuaW5mbygn5pel5Y6G5pel5pyf6KOF6L295oql6ZSZ77yM6K+3566h55CG5ZGY5qOA5p+l44CCJyk7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cdGZvciAoaSA9IDA7IGkgPCBsZWF2ZURheXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGQgPSBuZXcgRGF0ZShsZWF2ZURheXNbaV0ueSArICctJyArIGxlYXZlRGF5c1tpXS5tICsgJy0nXHJcblx0XHRcdFx0KyBsZWF2ZURheXNbaV0uZCk7XHJcblx0XHRvYmogPSB7XHJcblx0XHRcdGlzRm9yYmlkIDogZmFsc2UsXHJcblx0XHRcdGluZGV4IDogaSArIDEsXHJcblx0XHRcdHllYXIgOiBsZWF2ZURheXNbaV0ueSxcclxuXHRcdFx0bW9udGggOiBsZWF2ZURheXNbaV0ubSxcclxuXHRcdFx0ZGF5IDogbGVhdmVEYXlzW2ldLmQsXHJcblx0XHRcdHRleHQgOiAnJ1xyXG5cdFx0fTtcclxuXHRcclxuXHRcdGlmIChpID09PSAwKSB7IC8vIOaYvuekuuW5tOS7vVxyXG5cdFx0XHRwaWNrZXJQYXJhbXMucGlja2VyRWwucXVlcnlTZWxlY3RvckFsbCgnLm1vcmUtZGF0ZSBzcGFuJylbMF0uaW5uZXJUZXh0ID0gbGVhdmVEYXlzW2ldLnlcclxuXHRcdFx0XHRcdCsgJ+W5tCc7XHJcblx0XHR9XHJcblx0XHJcblx0XHQvLyDlnKjmraTorqHnrpflj6/pgInml7bpl7TojIPlm7TvvIznm67liY3nmoTmnaHku7bvvJrlpKfkuo7ku4rml6XnmoTlt6XkvZzml6VcclxuXHRcdGlmIChkLmdldFRpbWUoKSA+PSBkYXRlLmdldFRpbWUoKSkge1xyXG5cdFx0XHRpZiAoZC5nZXREYXkoKSA+IDAgJiYgZC5nZXREYXkoKSA8IDYpIHsgLy8g5bel5L2c5pelIOWIpOaWreaYr+WQpuS8keaBr1xyXG5cdFx0XHRcdGlmIChpc1R5cGVEYXkoZCwgJ3Jlc3QnKSkgeyAvLyDms5XlrprkvJHmga/ml6VcclxuXHRcdFx0XHRcdG9iai5pc0ZvcmJpZCA9IHRydWU7XHJcblx0XHRcdFx0XHRvYmoudGV4dCA9ICfkvJEnO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAoaXNUeXBlRGF5KGQsICdkdXR5JykpIHsgLy8g5rOV5a6a5LiK54+t5pelXHJcblx0XHRcdFx0XHRvYmoudGV4dCA9ICfnj60nO1xyXG5cdFx0XHRcdH0gZWxzZSB7IC8vIOato+W4uOS8keaBr+aXpVxyXG5cdFx0XHRcdFx0b2JqLmlzRm9yYmlkID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG9iai5pc0ZvcmJpZCA9IHRydWU7XHJcblx0XHR9XHJcblx0XHJcblx0XHRodG1sICs9IGdydERheShvYmopO1xyXG5cdH1cclxuXHRkYXlMaVswXS5pbm5lckhUTUwgPSBodG1sO1xyXG5cclxufVxyXG5cclxuLyoqXHJcbiAqIOWIpOaWrWVs5piv5ZCm5YyF5ZCr5p+Q5Liq5qC35byP57G7XHJcbiAqIFxyXG4gKiBAcGFyYW0ge09iamVjdH1cclxuICogICAgICAgICAgICBlbFxyXG4gKiBAcGFyYW0ge09iamVjdH1cclxuICogICAgICAgICAgICBjbHNOYW1lXHJcbiAqL1xyXG5mdW5jdGlvbiBoYXNDbHMoZWwsIGNsc05hbWUpIHtcclxuXHR2YXIgY2xzID0gZWwuZ2V0QXR0cmlidXRlKCdjbGFzcycpO1xyXG5cclxuXHRpZiAoY2xzICE9PSBudWxsICYmIGNscy5pbmRleE9mKGNsc05hbWUpID49IDApIHtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHRyZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBcclxuICog57uZZWzmt7vliqDmn5DkuKrmoLflvI/nsbtcclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fVxyXG4gKiAgICAgICAgICAgIGVsXHJcbiAqIEBwYXJhbSB7T2JqZWN0fVxyXG4gKiAgICAgICAgICAgIGNsc05hbWVcclxuICovXHJcbmZ1bmN0aW9uIGFkZENscyhlbCwgY2xzTmFtZSkge1xyXG5cdHZhciBjbHMgPSBlbC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyk7XHJcblxyXG5cdGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjbHNOYW1lICsgJyAnICsgY2xzKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOe7mWVs5Yig6Zmk5p+Q5Liq5qC35byP57G7XHJcbiAqIFxyXG4gKiBAcGFyYW0ge09iamVjdH1cclxuICogICAgICAgICAgICBlbFxyXG4gKiBAcGFyYW0ge09iamVjdH1cclxuICogICAgICAgICAgICBjbHNOYW1lXHJcbiAqL1xyXG5mdW5jdGlvbiByZW1vdmVDbHMoZWwsIGNsc05hbWUpIHtcclxuXHR2YXIgY2xzID0gZWwuZ2V0QXR0cmlidXRlKCdjbGFzcycpLCBmaW5hbENscyA9IG51bGwsIGNsc0luZGV4ID0gY2xzXHJcblx0XHRcdC5pbmRleE9mKGNsc05hbWUpO1xyXG5cclxuXHRmaW5hbENscyA9IGNscy5zdWJzdHJpbmcoMCwgY2xzSW5kZXgpXHJcblx0XHRcdCsgY2xzLnN1YnN0cmluZyhjbHNJbmRleCArIGNsc05hbWUubGVuZ3RoKTtcclxuXHRlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgZmluYWxDbHMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwZXJpb2RQaWNrKHBlcmlvZEVsLCBwZXJpb2RUeXBlKSB7XHJcblx0dmFyIGVsID0gcGVyaW9kRWwucGFyZW50Tm9kZS5wYXJlbnROb2RlLCBcclxuXHRcdGRzdHIgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGUtc3RyJyksIFxyXG5cdFx0YmVnaW5UaW1lU3RyID0gbnVsbCwgXHJcblx0XHRlbmRUaW1lU3RyID0gbnVsbDtcclxuXHJcblx0aWYgKGhhc0NscyhlbCwgJ2ZvcmJpZCcpKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cdGlmIChwZXJpb2RUeXBlID09PSAxKSB7IC8vIOagueaNruaXtumXtOWMuumXtOaLvOaOpeaXtumXtOWtl+espuS4slxyXG5cdFx0YmVnaW5UaW1lU3RyID0gZHN0ciArICcgJyArICc5OjAwJztcclxuXHRcdGVuZFRpbWVTdHIgPSBkc3RyICsgJyAnICsgJzEyOjAwJztcclxuXHRcdGRzdHIgKz0gJyDkuIrljYgnO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRiZWdpblRpbWVTdHIgPSBkc3RyICsgJyAnICsgJzEzOjMwJztcclxuXHRcdGVuZFRpbWVTdHIgPSBkc3RyICsgJyAnICsgJzE4OjAwJztcclxuXHRcdGRzdHIgKz0gJyDkuIvljYgnO1xyXG5cdH1cclxuXHRpZiAoIWhhc0NscyhwZXJpb2RFbCwgJ3NlbGVjdGVkJykpIHsgLy8g5pyq6YCJ5Lit5YiZ6YCJ5Lit77yM5re75Yqg5pe26Ze05Yy66Ze05Yiw5pWw57uEXHJcblx0XHRhZGRDbHMocGVyaW9kRWwsICdzZWxlY3RlZCcpO1xyXG5cdFx0cGlja2VyUGFyYW1zLnBlcmlvZFRpbWVzLnB1c2goe1xyXG5cdFx0XHRiZWdpblRpbWUgOiBuZXcgRGF0ZShiZWdpblRpbWVTdHIpLmdldFRpbWUoKSxcclxuXHRcdFx0ZW5kVGltZSA6IG5ldyBEYXRlKGVuZFRpbWVTdHIpLmdldFRpbWUoKSxcclxuXHRcdFx0c2hvd1RleHQgOiBkc3RyXHJcblx0XHR9KTtcclxuXHR9IGVsc2UgeyAvLyDpgInkuK3liJnnp7vpmaTpgInkuK3vvIzku47mlbDnu4TkuK3liKDpmaTml7bpl7TljLrpl7RcclxuXHRcdHJlbW92ZUNscyhwZXJpb2RFbCwgJ3NlbGVjdGVkJyk7XHJcblx0XHRkZWxQZXJpb2RCeVRpbWUobmV3IERhdGUoYmVnaW5UaW1lU3RyKS5nZXRUaW1lKCkpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOaYvuekuuS4i+S4gOS4quaXpeWOhuWMuumXtOeahOaXpeacn1xyXG4gKi9cclxuZnVuY3Rpb24gc2hvd05leHRNb250aChzZWxmKSB7XHJcblx0Ly8g6I635b6X5b2T5YmN5pel5Y6G5Yy66Ze05pyA5ZCO5LiA5aSp55qE5L+h5oGvXHJcblx0dmFyIGxhc3RFbCA9IHBpY2tlclBhcmFtcy5waWNrZXJFbC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FsZW4tZGF0ZSBsaTpsYXN0LWNoaWxkJyksXHJcblx0XHRsYXN0RGF0ZSA9IGxhc3RFbC5sZW5ndGggPiAwID8gbmV3IERhdGUobGFzdEVsWzBdLmdldEF0dHJpYnV0ZSgnZGF0ZS1zdHInKSkgOiAnJztcclxuXHRcclxuXHRpZihsYXN0RGF0ZS5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcclxuXHRcclxuXHRncnRSZWNlbnREdXR5RGF5cyhuZXcgRGF0ZSgobGFzdERhdGUgLyAxMDAwICsgODY0MDApICogMTAwMCkpO1xyXG5cdFxyXG5cdC8vIOWIsOS4i+S4gOmhteaEj+WRs+edgOWtmOWcqOS4iuS4gOmhtVxyXG5cdHBpY2tlclBhcmFtcy5waWNrZXJFbC5xdWVyeVNlbGVjdG9yQWxsKCcubW9yZS1kYXRlIGkuYmVmb3JlJylbMF0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmmL7npLrkuIrkuIDkuKrml6XljobljLrpl7TnmoTml6XmnJ9cclxuICovXHJcbmZ1bmN0aW9uIHNob3dCZWZvcmVNb250aCgpIHtcclxuXHJcblx0Ly8g6I635b6X5b2T5YmN5pel5Y6G5Yy66Ze056ys5LiA5aSp55qE5L+h5oGvXHJcblx0dmFyIGZpcnN0RWwgPSBwaWNrZXJQYXJhbXMucGlja2VyRWwucXVlcnlTZWxlY3RvckFsbCgnLmNhbGVuLWRhdGUgbGk6Zmlyc3QtY2hpbGQnKSwgXHJcblx0XHRmaXJzdERhdGUgPSBmaXJzdEVsLmxlbmd0aCA+IDAgPyBuZXcgRGF0ZShmaXJzdEVsWzBdLmdldEF0dHJpYnV0ZSgnZGF0ZS1zdHInKSkgOiAnJztcclxuXHRcdFx0XHRcclxuXHRpZihmaXJzdERhdGUubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XHJcblx0Ly8g6I635b6X5LiK5LiA5Liq5pel5Y6G5Yy66Ze056ys5LiA5aSp55qE5pel5pyf5L+h5oGvXHJcblx0YmVmb3JlRmlyc3REYXRlID0gbmV3IERhdGUoKGZpcnN0RGF0ZSAvIDEwMDAgLSA4NjQwMCAqIHBpY2tlclBhcmFtcy5jYWxlbkRheXNBbW91bnQpICogMTAwMCk7XHJcblxyXG5cdC8vIOWmguaenOW9k+aXpeWkp+S6juS4lOetieS6juS4iuS4gOS4quaXpeWOhuWMuumXtOesrOS4gOWkqeeahOaXpeacn++8jOihqOekuuW3sue7j+WIsOi+vuesrOS4gOmhtVxyXG5cdGlmIChwaWNrZXJQYXJhbXMuZGF0ZS5nZXRUaW1lKCkgPj0gYmVmb3JlRmlyc3REYXRlLmdldFRpbWUoKSkge1xyXG5cclxuXHRcdC8vIOeUn+aIkOW9k+aXpeebuOWFs+eahOaXpeWOhuWMuumXtO+8jOeUqOaIt+WPr+mAieaLqeW3peS9nOaXpe+8jOS7juS8oOmAkueahOaXpeacn+W8gOWni+iuoeeul1xyXG5cdFx0Z3J0UmVjZW50RHV0eURheXMocGlja2VyUGFyYW1zLmRhdGUpO1xyXG5cdFx0Ly8g6ZqQ6JeP5LiK5LiA6aG155qE5pON5L2cXHJcblx0XHRwaWNrZXJQYXJhbXMucGlja2VyRWwucXVlcnlTZWxlY3RvckFsbCgnLm1vcmUtZGF0ZSBpLmJlZm9yZScpWzBdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG5cdH0gZWxzZSB7XHJcblxyXG5cdFx0Ly8g55Sf5oiQ5LiK5LiA6aG155qE5pel5Y6G5Yy66Ze0XHJcblx0XHRncnRSZWNlbnREdXR5RGF5cyhiZWZvcmVGaXJzdERhdGUpO1xyXG5cclxuXHR9XHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2FwcC9wZXJpb2RzUGlja2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")}]);